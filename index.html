<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>VAPING ALL - PREMIUM SHOP</title>
    <script src="https://cdn.iamport.kr/v1/iamport.js"></script>
    <style>
        body { font-family: 'Apple SD Gothic Neo', sans-serif; margin: 0; background: #f5f5f5; color: #333; display: flex; flex-direction: column; min-height: 100vh; }
        
        /* ë„¤ë¹„ê²Œì´ì…˜ & ê²€ìƒ‰ */
        nav { background: #000; color: white; padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; position: sticky; top: 0; z-index: 1000; gap: 20px; }
        .logo { cursor: pointer; font-weight: 900; font-size: 24px; white-space: nowrap; }
        .search-container { flex-grow: 1; max-width: 500px; display: flex; position: relative; }
        #search-input { width: 100%; padding: 10px 15px; border-radius: 20px; border: none; outline: none; }
        .nav-menu { display: flex; align-items: center; gap: 8px; }
        nav button { background: #333; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; white-space: nowrap; }

        /* ì¹´í…Œê³ ë¦¬ & ì •ë ¬ (ë¹ ì¡Œë˜ ë¶€ë¶„ ë³µêµ¬) */
        .category-menu { display: flex; justify-content: center; gap: 20px; background: white; padding: 15px 0; border-bottom: 1px solid #ddd; position: sticky; top: 64px; z-index: 999; }
        .cat-btn { border: none; background: none; font-size: 14px; color: #777; cursor: pointer; padding: 5px 10px; transition: 0.3s; }
        .cat-btn.active { color: #000; font-weight: bold; border-bottom: 2px solid #000; }
        .sort-bar { max-width: 1200px; margin: 20px auto 0; padding: 0 5%; text-align: right; }
        #sort-select { padding: 8px; border-radius: 5px; border: 1px solid #ddd; cursor: pointer; }

        /* ìƒí’ˆ ë¦¬ìŠ¤íŠ¸ */
        .product-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 25px; padding: 20px 5% 60px; max-width: 1200px; margin: 0 auto; flex: 1; }
        .product-card { background: white; padding: 15px; border-radius: 15px; cursor: pointer; transition: 0.3s; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
        .product-card:hover { transform: translateY(-7px); }
        .product-card img { width: 100%; aspect-ratio: 1/1; object-fit: cover; border-radius: 10px; margin-bottom: 10px; }
        .price { color: #ff4757; font-weight: bold; font-size: 18px; margin: 10px 0; }

        /* ëª¨ë‹¬ ë””ìì¸ */
        #age-verification-popup, #login-modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 9999; align-items: center; justify-content: center; }
        .modal-content { background: white; padding: 40px; border-radius: 20px; width: 320px; text-align: center; }
        .modal-content input { width: 100%; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }

        /* í‘¸í„° (ì‚¬ì—…ì ì •ë³´) */
        footer { background: #333; color: #aaa; padding: 40px 5%; font-size: 13px; line-height: 1.8; margin-top: auto; }
        .footer-content { max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; flex-wrap: wrap; }
    </style>
</head>
<body>

    <div id="age-verification-popup">
        <div class="modal-content">
            <h2 style="color: #ff4757;">ì•ˆë‚´ë“œë¦½ë‹ˆë‹¤</h2>
            <p>ë³¸ ì‚¬ì´íŠ¸ëŠ” <strong>ì²­ì†Œë…„ ë³´í˜¸ë²•</strong>ì„ ì¤€ìˆ˜í•©ë‹ˆë‹¤.<br>ë§Œ 19ì„¸ ë¯¸ë§Œ ì²­ì†Œë…„ì€ ì´ìš©ì´ ì œí•œë©ë‹ˆë‹¤.</p>
            <button onclick="closePopup()" style="background:#000; color:#fff; border:none; padding:15px; width:100%; border-radius:8px; cursor:pointer; font-weight:bold;">ë‚´ìš©ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤</button>
            <div style="margin-top:15px; font-size:13px;"><input type="checkbox" id="today-close"> ì˜¤ëŠ˜ í•˜ë£¨ ì´ ì°½ì„ ì—´ì§€ ì•ŠìŒ</div>
        </div>
    </div>

    <div id="login-modal">
        <div class="modal-content">
            <h2 style="margin-bottom:20px;">LOGIN</h2>
            <input type="text" id="user-id" placeholder="ì•„ì´ë””">
            <input type="password" id="user-pw" placeholder="ë¹„ë°€ë²ˆí˜¸">
            <button onclick="handleAuth('login')" style="background:#000; color:#fff; width:100%; padding:12px; border:none; border-radius:8px; margin-top:10px; cursor:pointer;">ë¡œê·¸ì¸</button>
            <button onclick="handleAuth('signup')" style="background:#f0f0f0; width:100%; padding:10px; border:none; border-radius:8px; margin-top:8px; cursor:pointer;">ì„±ì¸ì¸ì¦ í›„ ê°€ì…</button>
            <button onclick="document.getElementById('login-modal').style.display='none'" style="background:none; border:none; color:#999; margin-top:20px; cursor:pointer;">ë‹«ê¸°</button>
        </div>
    </div>

    <nav>
        <div class="logo" onclick="location.href='index.html'">VAPING ALL</div>
        <div class="search-container">
            <input type="text" id="search-input" placeholder="ì–´ë–¤ ìƒí’ˆì„ ì°¾ìœ¼ì‹œë‚˜ìš”?" onkeyup="if(event.keyCode==13)search()">
        </div>
        <div class="nav-menu">
            <span id="user-status" style="font-size:12px; color:#ccc; margin-right:10px;">ë¡œê·¸ì¸ í•„ìš”</span>
            <button onclick="document.getElementById('login-modal').style.display='flex'">ë¡œê·¸ì¸</button>
            <button onclick="location.href='cart.html'">ğŸ›’</button>
        </div>
    </nav>

    <div class="category-menu">
        <button class="cat-btn active" onclick="filter('all', this)">ì „ì²´</button>
        <button class="cat-btn" onclick="filter('mod', this)">ê¸°ê¸°</button>
        <button class="cat-btn" onclick="filter('top', this)">ë¬´í™”ê¸°</button>
        <button class="cat-btn" onclick="filter('rta', this)">ë¦¬ë¹Œë“œ ì œí’ˆ</button>
        <button class="cat-btn" onclick="filter('coil', this)">ì½”ì¼/íŒŸ</button>
        <button class="cat-btn" onclick="filter('big', this)">íí˜¸í¡ì•¡ìƒ</button>
        <button class="cat-btn" onclick="filter('small', this)">ì…í˜¸í¡ì•¡ìƒ</button>
        <button class="cat-btn" onclick="filter('event', this)">ì´ë²¤íŠ¸</button>
    </div>

    <div class="sort-bar">
        <select id="sort-select" onchange="sortItems()">
            <option value="new">ìµœì‹ ìˆœ</option>
            <option value="price-low">ê°€ê²© ë‚®ì€ ìˆœ</option>
            <option value="price-high">ê°€ê²© ë†’ì€ ìˆœ</option>
        </select>
    </div>

    <div id="product-list" class="product-container"></div>

    <footer>
        <div class="footer-content">
            <div>
                <b>VAPING ALL (ë² ì´í•‘ ì˜¬)</b><br>
                ëŒ€í‘œì: ì†¡ìˆ˜ë¯¼ | ì‚¬ì—…ìë²ˆí˜¸: 826-20-02320 | í†µì‹ íŒë§¤: ì œ2023-ì„œìš¸-0000í˜¸<br>
                ì£¼ì†Œ: ì¶©ë‚¨ ì²œì•ˆì‹œ ë™ë‚¨êµ¬ ì¶©ì ˆë¡œ42 | ì´ë©”ì¼: NATURE110143@GMAIL.COM 
            </div>
            <div>
                <b>ê³ ê°ì„¼í„°: 010-2489-7554 </b><br>
                í‰ì¼ 09:00 ~ 22:00 (ì£¼ë§/ê³µíœ´ì¼ íœ´ë¬´)<br>
                ê³„ì¢Œ: êµ­ë¯¼ì€í–‰ 000000-00-000000 (ë² ì´í•‘ì˜¬)
            </div>
        </div>
    </footer>

<script>
    const products = [
        { id: 1, name: "ë‹·ëª¨ë“œ 100W ë¸”ë™", price: 189000, image: "images/dotmod.png", category: "mod", desc: "í´ë˜ì‹í•œ ë””ìì¸ê³¼ ê°•ë ¥í•œ 100W ì¶œë ¥ì„ ìë‘í•˜ëŠ” í”„ë¦¬ë¯¸ì—„ ëª¨ë“œê¸°ê¸°ì…ë‹ˆë‹¤." },
        { id: 2, name: "ìœ ì›° ë°œë¼ë¦¬ì•ˆ íŒŸ", price: 10000, image: "images/valcoil.jpg", category: "coil", desc: "í´ë˜ì‹í•œ ë””ìì¸ê³¼ ê°•ë ¥í•œ 100W ì¶œë ¥ì„ ìë‘í•˜ëŠ” í”„ë¦¬ë¯¸ì—„ ëª¨ë“œê¸°ê¸°ì…ë‹ˆë‹¤." },
        { id: 3, name: "[ì…í˜¸í¡] ë°ë“œë ˆë¹— MTL RTA", price: 42000, image: "images/deadrebbit.png", category: "top", desc: "í´ë˜ì‹í•œ ë””ìì¸ê³¼ ê°•ë ¥í•œ 100W ì¶œë ¥ì„ ìë‘í•˜ëŠ” í”„ë¦¬ë¯¸ì—„ ëª¨ë“œê¸°ê¸°ì…ë‹ˆë‹¤." },
        { id: 4, name: "[íí˜¸í¡] ë ˆëª¬ì–¼ë ¤ë¨¹êµ¬ì‹¶ì˜¤", price: 25000, image: "images/lemon.png", category: "big", desc: "í´ë˜ì‹í•œ ë””ìì¸ê³¼ ê°•ë ¥í•œ 100W ì¶œë ¥ì„ ìë‘í•˜ëŠ” í”„ë¦¬ë¯¸ì—„ ëª¨ë“œê¸°ê¸°ì…ë‹ˆë‹¤." },
        { id: 5, name: "[ì…í˜¸í¡] ì¹´ë””ë‚  ë¸”ë™", price: 24000, image: "images/kardinalbl.jpg", category: "small", desc: "í´ë˜ì‹í•œ ë””ìì¸ê³¼ ê°•ë ¥í•œ 100W ì¶œë ¥ì„ ìë‘í•˜ëŠ” í”„ë¦¬ë¯¸ì—„ ëª¨ë“œê¸°ê¸°ì…ë‹ˆë‹¤." },
        { id: 6, name: "[ë¦¬ë¹Œë“œ] ì¹¸íƒˆA1 24GA", price: 3000, image: "images/lemon.png", category: "rta", desc: "í´ë˜ì‹í•œ ë””ìì¸ê³¼ ê°•ë ¥í•œ 100W ì¶œë ¥ì„ ìë‘í•˜ëŠ” í”„ë¦¬ë¯¸ì—„ ëª¨ë“œê¸°ê¸°ì…ë‹ˆë‹¤." },
    ];

    let currentList = [...products];

    function display(list) {
        const container = document.getElementById('product-list');
        if(list.length === 0) {
            container.innerHTML = '<p style="grid-column:1/-1; text-align:center; padding:50px;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
            return;
        }
        container.innerHTML = list.map(p => `
            <div class="product-card" onclick="location.href='detail.html?id=${p.id}&name=${encodeURIComponent(p.name)}&price=${p.price}&image=${encodeURIComponent(p.image)}&desc=${p.desc}'">
                <img src="${p.image}" onerror="this.src='https://via.placeholder.com/300'">
                <h3 style="font-size:16px; margin:10px 0;">${p.name}</h3>
                <p class="price">${p.price.toLocaleString()}ì›</p>
                <button style="width:100%; padding:10px; background:#000; color:#fff; border:none; border-radius:8px; cursor:pointer;" onclick="event.stopPropagation(); addCart(${JSON.stringify(p).replace(/"/g, '&quot;')})">ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
            </div>
        `).join('');
    }

    function search() {
        const val = document.getElementById('search-input').value.toLowerCase();
        currentList = products.filter(p => p.name.toLowerCase().includes(val));
        sortItems();
    }

    function filter(cat, btn) {
        document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentList = cat === 'all' ? [...products] : products.filter(p => p.category === cat);
        sortItems();
    }

    function sortItems() {
        const type = document.getElementById('sort-select').value;
        if(type === 'price-low') currentList.sort((a,b) => a.price - b.price);
        else if(type === 'price-high') currentList.sort((a,b) => b.price - a.price);
        else currentList.sort((a,b) => b.id - a.id);
        display(currentList);
    }

    function handleAuth(type) {
        const id = document.getElementById('user-id').value;
        const pw = document.getElementById('user-pw').value;
        if(!id || !pw) return alert("ì…ë ¥ ì •ë³´ê°€ ë¶€ì¡±í•©ë‹ˆë‹¤.");

        if(type === 'signup') {
            IMP.init('imp00000000');
            IMP.certification({ pg: 'inicis_unified.official', merchant_uid: 'cert_'+Date.now(), popup: true }, function(rsp) {
                if (rsp.success || id === 'test') {
                    localStorage.setItem(id, JSON.stringify({pw, isAdult: true}));
                    alert("ì„±ì¸ì¸ì¦ ì™„ë£Œ ë° ê°€ì… ì„±ê³µ!");
                }
            });
        } else {
            const data = JSON.parse(localStorage.getItem(id));
            if(data && data.pw === pw) {
                sessionStorage.setItem('loginUser', id);
                alert(id + "ë‹˜ ë°˜ê°€ì›Œìš”!");
                location.reload();
            } else { alert("ë¡œê·¸ì¸ ì‹¤íŒ¨"); }
        }
    }

    function addCart(p) {
        let cart = JSON.parse(localStorage.getItem('myCart')) || [];
        cart.push({...p, qty: 1});
        localStorage.setItem('myCart', JSON.stringify(cart));
        if(confirm("ì¥ë°”êµ¬ë‹ˆë¡œ ê°ˆê¹Œìš”?")) location.href='cart.html';
    }

    function closePopup() {
        if(document.getElementById('today-close').checked) localStorage.setItem('hideAdultPopup', Date.now() + 86400000);
        document.getElementById('age-verification-popup').style.display = 'none';
    }

    window.onload = () => {
        const user = sessionStorage.getItem('loginUser');
        if(user) {
            document.getElementById('user-status').innerText = user + "ë‹˜ (ì„±ì¸)";
            document.getElementById('user-status').style.color = "#00ff00";
        }
        if(!localStorage.getItem('hideAdultPopup') || Date.now() > parseInt(localStorage.getItem('hideAdultPopup'))) {
            document.getElementById('age-verification-popup').style.display = 'flex';
        }
        sortItems();
    }
</script>
</body>

</html>
